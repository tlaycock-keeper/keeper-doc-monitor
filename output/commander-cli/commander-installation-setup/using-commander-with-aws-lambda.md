[![Logo](https://docs.keeper.io/~gitbook/image?url=https%3A%2F%2F2557019839-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-
x-
prod.appspot.com%2Fo%2Fspaces%252FOthZEjvFH25YbgTBe0jT%252Flogo%252Fp7my2BdDymT53qZmRrq5%252FKeeper_600.png%3Falt%3Dmedia%26token%3D0a515169-d51f-4ca3-a458-f81394812492&width=260&dpr=4&quality=100&sign=ce896b6e&sv=2)![Logo](https://docs.keeper.io/~gitbook/image?url=https%3A%2F%2F2557019839-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-
x-
prod.appspot.com%2Fo%2Fspaces%252FOthZEjvFH25YbgTBe0jT%252Flogo%252Fqe0JYUjJDoQWioecglOW%252Fkeeper-
no-
tag.png%3Falt%3Dmedia%26token%3D29dff9f6-9c7e-41f4-80a3-e879ee78667c&width=260&dpr=4&quality=100&sign=1e0a5ac8&sv=2)](https://docs.keeper.io/en/keeperpam/)

Ask or search...

`Ctrl``K`

KeeperPAM and Secrets Manager

[Docs Home](https://docs.keeper.io/en/commander-cli/commander-installation-
setup/using-commander-with-aws-lambda?fallback=true)[Keeper Connection
Manager](https://docs.keeper.io/en/keeper-connection-manager/commander-
cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[User Guides](https://docs.keeper.io/en/user-
guides/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Release Notes](https://docs.keeper.io/en/release-
notes/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Enterprise Guide](https://docs.keeper.io/en/enterprise-
guide/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[MSP Guide](https://docs.keeper.io/en/msp-
guide/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[SSO Connect Cloud](https://docs.keeper.io/en/sso-
connect-cloud/commander-cli/commander-installation-setup/using-commander-with-
aws-lambda?fallback=true)[KeeperPAM and Secrets
Manager](https://docs.keeper.io/en/keeperpam/commander-cli/commander-
installation-setup/using-commander-with-aws-lambda?fallback=true)[SSO Connect
On-Prem](https://docs.keeper.io/en/sso-connect-on-prem/commander-
cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Keeper Bridge](https://docs.keeper.io/en/keeper-
bridge/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)

KeeperPAM and Secrets Manager

[Docs Home](https://docs.keeper.io/en/commander-cli/commander-installation-
setup/using-commander-with-aws-lambda?fallback=true)[Keeper Connection
Manager](https://docs.keeper.io/en/keeper-connection-manager/commander-
cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[User Guides](https://docs.keeper.io/en/user-
guides/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Release Notes](https://docs.keeper.io/en/release-
notes/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Enterprise Guide](https://docs.keeper.io/en/enterprise-
guide/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[MSP Guide](https://docs.keeper.io/en/msp-
guide/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[SSO Connect Cloud](https://docs.keeper.io/en/sso-
connect-cloud/commander-cli/commander-installation-setup/using-commander-with-
aws-lambda?fallback=true)[KeeperPAM and Secrets
Manager](https://docs.keeper.io/en/keeperpam/commander-cli/commander-
installation-setup/using-commander-with-aws-lambda?fallback=true)[SSO Connect
On-Prem](https://docs.keeper.io/en/sso-connect-on-prem/commander-
cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)[Keeper Bridge](https://docs.keeper.io/en/keeper-
bridge/commander-cli/commander-installation-setup/using-commander-with-aws-
lambda?fallback=true)

  * [Overview](/en/keeperpam)
  * Privileged Access Manager

    * [Setup Steps](/en/keeperpam/privileged-access-manager/setup-steps)
    * [Quick Start: Sandbox](/en/keeperpam/privileged-access-manager/quick-start-sandbox)
    * [Getting Started](/en/keeperpam/privileged-access-manager/getting-started)

      * [Architecture](/en/keeperpam/privileged-access-manager/getting-started/architecture)

        * [Architecture Diagram](/en/keeperpam/privileged-access-manager/getting-started/architecture/system-architecture)
        * [Vault Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/vault-security)
        * [Router Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/router-security)
        * [Gateway Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/gateway-security)
        * [Connection and Tunnel Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/connection-and-tunnel-security)

      * [KeeperPAM Licensing](/en/keeperpam/privileged-access-manager/getting-started/keeperpam-licensing)
      * [Enforcement Policies](/en/keeperpam/privileged-access-manager/getting-started/enforcement-policies)
      * [Vault Structure](/en/keeperpam/privileged-access-manager/getting-started/vault-structure)
      * [Record Linking](/en/keeperpam/privileged-access-manager/getting-started/record-linking)
      * [Applications](/en/keeperpam/privileged-access-manager/getting-started/applications)
      * [Devices](/en/keeperpam/privileged-access-manager/getting-started/devices)
      * [Gateways](/en/keeperpam/privileged-access-manager/getting-started/gateways)

        * [Creating a Gateway](/en/keeperpam/privileged-access-manager/getting-started/gateways/one-time-access-token)
        * [Docker Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/docker-installation)
        * [Linux Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/linux-installation)
        * [Windows Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/windows-installation)
        * [Auto Updater](/en/keeperpam/privileged-access-manager/getting-started/gateways/auto-updater)
        * [Alerts and SIEM Integration](/en/keeperpam/privileged-access-manager/getting-started/gateways/alerts-and-siem-integration)
        * [Advanced Configuration](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration)

          * [Gateway Configuration with AWS KMS](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration/gateway-configuration-with-aws-kms)
          * [Gateway Configuration with Custom Fields](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration/gateway-configuration-with-custom-fields)

      * [PAM Configuration](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration)

        * [AWS Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/aws-environment-setup)
        * [Azure Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/azure-environment-setup)
        * [Local Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/local-environment-setup)

      * [PAM Resources](/en/keeperpam/privileged-access-manager/getting-started/pam-resources)

        * [PAM Machine](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine)

          * [Example: Linux Machine](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine/example-linux-machine)
          * [Example: Azure Windows VM](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine/example-azure-windows-vm)

        * [PAM Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database)

          * [Example: MySQL Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-mysql-database)
          * [Example: PostgreSQL Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-postgresql-database)
          * [Example: Microsoft SQL Server Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-microsoft-sql-server-database)

        * [PAM Directory](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-directory)
        * [PAM Remote Browser](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-remote-browser)
        * [PAM User](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-user)

      * [Sharing and Access Control](/en/keeperpam/privileged-access-manager/getting-started/sharing-and-access-control)
      * [Just-In-Time Access (JIT)](/en/keeperpam/privileged-access-manager/getting-started/just-in-time-access-jit)

    * [Password Rotation](/en/keeperpam/privileged-access-manager/password-rotation)

      * [Rotation Overview](/en/keeperpam/privileged-access-manager/password-rotation/rotation-overview)
      * [Rotation Use Cases](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases)

        * [Azure](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure)

          * [Azure AD Users](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-ad-users)
          * [Azure VM User Accounts](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-vm-user-accounts)
          * [Azure Managed Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database)

            * [Azure SQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-sql)
            * [Azure MySQL - Single or Flexible Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-mysql-single-or-flexible-database)
            * [Azure MariaDB Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-mariadb-database)
            * [Azure PostgreSQL - Single or Flexible Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-postgresql-single-or-flexible-database)

          * [Azure App Secret Rotation](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-app-secret-rotation)

        * [AWS](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws)

          * [IAM User Password](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/iam-user)
          * [Managed Microsoft AD User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/directory-user)
          * [EC2 Virtual Machine User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/ec2-virtual-machine-user)
          * [IAM User Access Key](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/iam-user-access-key)
          * [Managed Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database)

            * [AWS RDS for MySQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-mysql)
            * [AWS RDS for SQL Server](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-sql-server)
            * [AWS RDS for PostgreSQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-postgresql)
            * [AWS RDS for MariaDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-mariadb)
            * [AWS RDS for Oracle](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-oracle)

        * [Local Network](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network)

          * [Active Directory or OpenLDAP User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/active-directory)
          * [Windows User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/windows-user)
          * [Linux User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/linux-user)
          * [macOS User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/macos-user)
          * [Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database)

            * [Native MySQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mysql)
            * [Native MariaDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mariadb)
            * [Native PostgreSQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/postgresql)
            * [Native MongoDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mongodb)
            * [Native MS SQL Server](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/ms-sql-server)
            * [Native Oracle](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/oracle)

        * [SaaS Accounts](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts)

          * [Okta User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/okta-user)
          * [Snowflake User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/snowflake-user)
          * [Rotate Credential via REST API](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/rotate-credential-via-rest-api)

        * [Network Devices](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices)

          * [Cisco IOS XE](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices/cisco-ios-xe)
          * [Cisco Meraki](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices/cisco-meraki)

      * [Service Management](/en/keeperpam/privileged-access-manager/password-rotation/service-management)
      * [Post-Rotation Scripts](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts)

        * [Inputs and Outputs](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/parameters)
        * [Attaching Scripts](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/attaching-post-rotation-scripts-to-records)
        * [Code Examples](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/accessing-parameters)

    * [Connections](/en/keeperpam/privileged-access-manager/connections)

      * [Getting Started](/en/keeperpam/privileged-access-manager/connections/getting-started)
      * [Session Protocols](/en/keeperpam/privileged-access-manager/connections/session-protocols)

        * [SSH Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/ssh-connections)
        * [RDP Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/rdp-connections)
        * [RBI Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/rbi-connections)
        * [MySQL Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/mysql-connections)
        * [SQL Server Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/sql-server-connections)
        * [PostgreSQL Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/postgresql-connections)
        * [VNC Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/vnc-connections)
        * [Telnet Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/telnet-connections)

      * [Examples](/en/keeperpam/privileged-access-manager/connections/examples)

        * [SSH Protocol - Linux Machine](/en/keeperpam/privileged-access-manager/connections/examples/ssh-protocol-linux-machine)
        * [RDP Protocol - Azure Virtual Machine](/en/keeperpam/privileged-access-manager/connections/examples/rdp-protocol-azure-virtual-machine)
        * [MySQL Protocol - MySQL Database](/en/keeperpam/privileged-access-manager/connections/examples/mysql-protocol-mysql-database)
        * [PostgreSQL Protocol - PostgreSQL Database](/en/keeperpam/privileged-access-manager/connections/examples/postgresql-protocol-postgresql-database)

    * [Tunnels](/en/keeperpam/privileged-access-manager/tunnels)

      * [Setting up Tunnels](/en/keeperpam/privileged-access-manager/tunnels/setting-up-tunnels)

    * [Remote Browser Isolation](/en/keeperpam/privileged-access-manager/remote-browser-isolation)

      * [Setting up RBI](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi)

        * [URL Patterns & Resource URL Patterns](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi/url-patterns-and-resource-url-patterns)
        * [Browser Autofill](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi/browser-autofill)

    * [Session Recording & Playback](/en/keeperpam/privileged-access-manager/session-recording-and-playback)
    * [SSH Agent](/en/keeperpam/privileged-access-manager/ssh-agent)

      * [Integration with Git](/en/keeperpam/privileged-access-manager/ssh-agent/integration-with-git)

    * [Discovery](/en/keeperpam/privileged-access-manager/discovery)

      * [Discovery Basics](/en/keeperpam/privileged-access-manager/discovery/discovery-basics)
      * [Discovery using Commander](/en/keeperpam/privileged-access-manager/discovery/discovery-using-commander)
      * [Discovery using the Vault](/en/keeperpam/privileged-access-manager/discovery/discovery-using-the-vault)

    * [On-Prem Connection Manager](/en/keeperpam/privileged-access-manager/on-prem-connection-manager)
    * [References](/en/keeperpam/privileged-access-manager/references)

      * [Port Mapping](/en/keeperpam/privileged-access-manager/references/port-mapping)
      * [Setting up SSH](/en/keeperpam/privileged-access-manager/references/setting-up-ssh)
      * [Setting up WinRM](/en/keeperpam/privileged-access-manager/references/setting-up-winrm)
      * [Setting up SQL Server](/en/keeperpam/privileged-access-manager/references/setting-up-sql-server)
      * [Database Import and Export](/en/keeperpam/privileged-access-manager/references/database-import-and-export)
      * [Installing sqlcmd on Linux](/en/keeperpam/privileged-access-manager/references/installing-sqlcmd-on-linux)
      * [Installing Docker on Linux](/en/keeperpam/privileged-access-manager/references/installing-docker-on-linux)
      * [Creating KSM App for Rotation](/en/keeperpam/privileged-access-manager/references/creating-ksm-app-for-rotation)
      * [Active Directory Least Privilege](/en/keeperpam/privileged-access-manager/references/active-directory-least-privilege)
      * [Event Reporting](/en/keeperpam/privileged-access-manager/references/event-reporting)
      * [Importing PAM Records](/en/keeperpam/privileged-access-manager/references/importing-pam-records)
      * [Managing Rotation via CLI](/en/keeperpam/privileged-access-manager/references/managing-rotation-via-cli)
      * [Commander SDK](/en/keeperpam/privileged-access-manager/references/commander-sdk)
      * [Cron Spec](/en/keeperpam/privileged-access-manager/references/cron-spec)
      * [Preview Access](/en/keeperpam/privileged-access-manager/references/preview-access)

  * Privilege Manager

    * [Overview](/en/keeperpam/privilege-manager/overview)
    * [Setup](/en/keeperpam/privilege-manager/setup)
    * [Deployment](/en/keeperpam/privilege-manager/deployment)
    * [Policies](/en/keeperpam/privilege-manager/policies)
    * [Managing Requests](/en/keeperpam/privilege-manager/managing-requests)
  * [FAQs](/en/keeperpam/faqs)
  * Secrets Manager

    * [Secrets Manager Overview](/en/keeperpam/secrets-manager/overview)
    * [Quick Start Guide](/en/keeperpam/secrets-manager/quick-start-guide)
    * [About KSM](/en/keeperpam/secrets-manager/about)

      * [Architecture](/en/keeperpam/secrets-manager/about/architecture)
      * [Terminology](/en/keeperpam/secrets-manager/about/terminology)
      * [Security & Encryption Model](/en/keeperpam/secrets-manager/about/security-encryption-model)
      * [One Time Access Token](/en/keeperpam/secrets-manager/about/one-time-token)
      * [Secrets Manager Configuration](/en/keeperpam/secrets-manager/about/secrets-manager-configuration)
      * [Keeper Notation](/en/keeperpam/secrets-manager/about/keeper-notation)
      * [Event Reporting](/en/keeperpam/secrets-manager/about/event-reporting)
      * [Field/Record Types](/en/keeperpam/secrets-manager/about/field-record-types)

    * [Secrets Manager CLI](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface)

      * [Profile Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/profile-command)
      * [Init Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/init-command)
      * [Secret Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/secret-command)
      * [Folder Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/folder-command)
      * [Sync Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/sync-command)
      * [Exec Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/exec-command)
      * [Config Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/config-command)
      * [Version Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/version-command)
      * [Misc Commands](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/vault-admin-commands)
      * [Docker Container](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/docker-container)
      * [Custom Record Types](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/custom-record-types)

    * [Password Rotation](/en/keeperpam/secrets-manager/password-rotation)
    * [Developer SDKs](/en/keeperpam/secrets-manager/developer-sdk-library)

      * [Python SDK](/en/keeperpam/secrets-manager/developer-sdk-library/python-sdk)
      * [Java/Kotlin SDK](/en/keeperpam/secrets-manager/developer-sdk-library/java-sdk)

        * [Record Field Classes](/en/keeperpam/secrets-manager/developer-sdk-library/java-sdk/record-field-classes)

      * [JavaScript SDK](/en/keeperpam/secrets-manager/developer-sdk-library/javascript-sdk)
      * [.NET SDK](/en/keeperpam/secrets-manager/developer-sdk-library/.net-sdk)
      * [Go SDK](/en/keeperpam/secrets-manager/developer-sdk-library/golang-sdk)

        * [Record Field Classes](/en/keeperpam/secrets-manager/developer-sdk-library/golang-sdk/record-field-classes)

      * [PowerShell](/en/keeperpam/secrets-manager/developer-sdk-library/powershell)
      * [Vault SDKs](/en/keeperpam/secrets-manager/developer-sdk-library/vault-sdks)

    * [Integrations](/en/keeperpam/secrets-manager/integrations)

      * [Ansible](/en/keeperpam/secrets-manager/integrations/ansible)

        * [Ansible Plugin](/en/keeperpam/secrets-manager/integrations/ansible/ansible-plugin)
        * [Ansible Tower](/en/keeperpam/secrets-manager/integrations/ansible/ansible-tower)

      * [AWS CLI Credential Process](/en/keeperpam/secrets-manager/integrations/aws-cli-credential-process)
      * [AWS Secrets Manager](/en/keeperpam/secrets-manager/integrations/aws-secrets-manager)
      * [AWS KMS](/en/keeperpam/secrets-manager/integrations/aws-kms)
      * [Azure DevOps Extension](/en/keeperpam/secrets-manager/integrations/azure-devops-plugin)
      * [Azure Key Vault](/en/keeperpam/secrets-manager/integrations/azure-key-vault)
      * [Bitbucket Plugin](/en/keeperpam/secrets-manager/integrations/bitbucket-plugin)
      * [Docker Image](/en/keeperpam/secrets-manager/integrations/docker-image)
      * [Docker Runtime](/en/keeperpam/secrets-manager/integrations/docker-runtime)
      * [Docker Writer Image](/en/keeperpam/secrets-manager/integrations/docker-writer-image)
      * [Entrust HSM](/en/keeperpam/secrets-manager/integrations/entrust-hsm)
      * [GCP Secret Manager](/en/keeperpam/secrets-manager/integrations/gcp-secret-manager)
      * [Git - Sign Commits with SSH](/en/keeperpam/secrets-manager/integrations/git-sign-commits-with-ssh)
      * [GitHub Actions](/en/keeperpam/secrets-manager/integrations/github-actions)
      * [GitLab](/en/keeperpam/secrets-manager/integrations/gitlab-plugin)
      * [Hashicorp Vault](/en/keeperpam/secrets-manager/integrations/hashicorp-vault)
      * [Heroku](/en/keeperpam/secrets-manager/integrations/heroku)
      * [Jenkins Plugin](/en/keeperpam/secrets-manager/integrations/jenkins-plugin)
      * [Keeper Connection Manager](/en/keeperpam/secrets-manager/integrations/keeper-connection-manager)
      * [Kubernetes External Secrets Operator](/en/keeperpam/secrets-manager/integrations/kubernetes-external-secrets-operator)
      * [Kubernetes (alternative)](/en/keeperpam/secrets-manager/integrations/kubernetes)
      * [Linux Keyring](/en/keeperpam/secrets-manager/integrations/linux-keyring)
      * [Octopus Deploy](/en/keeperpam/secrets-manager/integrations/octopus-deploy)
      * [PowerShell Plugin](/en/keeperpam/secrets-manager/integrations/powershell-plugin)
      * [ServiceNow](/en/keeperpam/secrets-manager/integrations/servicenow)
      * [Teller](/en/keeperpam/secrets-manager/integrations/teller)
      * [TeamCity](/en/keeperpam/secrets-manager/integrations/teamcity)
      * [Terraform Plugin](/en/keeperpam/secrets-manager/integrations/terraform)

        * [Terraform Registry](https://registry.terraform.io/providers/Keeper-Security/secretsmanager/latest/docs/data-sources/address)

      * [Windows Credential Manager](/en/keeperpam/secrets-manager/integrations/windows-credential-manager)
      * [XSOAR](/en/keeperpam/secrets-manager/integrations/xsoar)

    * [Troubleshooting](/en/keeperpam/secrets-manager/troubleshooting)
  * Commander CLI

    * [Commander Overview](/en/keeperpam/commander-cli/overview)
    * [Installation and Setup](/en/keeperpam/commander-cli/commander-installation-setup)

      * [CLI Installation on Windows](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-windows)
      * [CLI Installation on macOS](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-mac)
      * [CLI Installation on Linux](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-linux)
      * [Python Developer Setup](/en/keeperpam/commander-cli/commander-installation-setup/developer-mode)
      * [.NET Developer Setup](/en/keeperpam/commander-cli/commander-installation-setup/net-developer-sdk)
      * [PowerShell Module](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-powershell)
      * [Logging in](/en/keeperpam/commander-cli/commander-installation-setup/logging-in)
      * [Configuration and Usage](/en/keeperpam/commander-cli/commander-installation-setup/configuration)

        * [AWS Secrets Manager](/en/keeperpam/commander-cli/commander-installation-setup/configuration/aws-secrets-manager)
        * [AWS Key Management Service](/en/keeperpam/commander-cli/commander-installation-setup/configuration/aws-key-management-service)

      * [Automating with Windows Task](/en/keeperpam/commander-cli/commander-installation-setup/automating-with-windows-task)
      * [Automating with AWS Lambda](/en/keeperpam/commander-cli/commander-installation-setup/using-commander-with-aws-lambda)
      * [Uninstallation](/en/keeperpam/commander-cli/commander-installation-setup/uninstallation)

    * [Command Reference](/en/keeperpam/commander-cli/command-reference)

      * [Import and Export Data](/en/keeperpam/commander-cli/command-reference/import-and-export-commands)

        * [Import/Export Commands](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/import-export-commands)
        * [CyberArk Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/cyberark-import)
        * [LastPass Data Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/lastpass-import)
        * [Delinea / Thycotic Secret Server Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/delinea-thycotic-secret-server-import)
        * [Keepass Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/keepass-import)
        * [ManageEngine Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/manageengine-import)
        * [Myki Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/myki-import)
        * [Proton Pass Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/proton-pass-import)
        * [CSV Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/csv-import)
        * [JSON Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/json-import)

      * [Reporting Commands](/en/keeperpam/commander-cli/command-reference/reporting-commands)

        * [Report Types](/en/keeperpam/commander-cli/command-reference/reporting-commands/report-types)

      * [Enterprise Management Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands)

        * [Creating and Inviting Users](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/creating-and-inviting-users)
        * [Compliance Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/compliance-commands)
        * [Breachwatch Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/breachwatch-commands)
        * [SCIM Push Configuration](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/scim-push-configuration)

      * [Record Commands](/en/keeperpam/commander-cli/command-reference/record-commands)

        * [Record Type Commands](/en/keeperpam/commander-cli/command-reference/record-commands/record-type-commands)
        * [Creating Record Types](/en/keeperpam/commander-cli/command-reference/record-commands/default-record-types)

      * [Sharing Commands](/en/keeperpam/commander-cli/command-reference/sharing-commands)
      * [KeeperPAM Commands](/en/keeperpam/commander-cli/command-reference/keeperpam-commands)
      * [Connection Commands](/en/keeperpam/commander-cli/command-reference/connection-commands)

        * [SSH](/en/keeperpam/commander-cli/command-reference/connection-commands/ssh)
        * [SSH Agent](/en/keeperpam/commander-cli/command-reference/connection-commands/ssh-agent)
        * [RDP](/en/keeperpam/commander-cli/command-reference/connection-commands/rdp)
        * [Connect Command](/en/keeperpam/commander-cli/command-reference/connection-commands/connection-to-hosts)
        * [SFTP Sync](/en/keeperpam/commander-cli/command-reference/connection-commands/sftp-sync)

      * [Secrets Manager Commands](/en/keeperpam/commander-cli/command-reference/secrets-manager-commands)
      * [MSP Management Commands](/en/keeperpam/commander-cli/command-reference/msp-management-commands)
      * [Miscellaneous Commands](/en/keeperpam/commander-cli/command-reference/misc-commands)
      * [Password Rotation](/en/keeperpam/commander-cli/command-reference/plugins)

        * [Password Rotation Commands](/en/keeperpam/commander-cli/command-reference/plugins/password-rotation)
        * [AWS Plugin](/en/keeperpam/commander-cli/command-reference/plugins/aws-plugin)
        * [Azure Plugin](/en/keeperpam/commander-cli/command-reference/plugins/azure-plugin)
        * [Microsoft SQL Server Plugin](/en/keeperpam/commander-cli/command-reference/plugins/microsoft-sql-server-plugin)
        * [MySQL Plugin](/en/keeperpam/commander-cli/command-reference/plugins/mysql-plugin)
        * [Oracle Plugin](/en/keeperpam/commander-cli/command-reference/plugins/oracle-plugin)
        * [PostgreSQL Plugin](/en/keeperpam/commander-cli/command-reference/plugins/postgresql-plugin)
        * [PSPasswd Plugin](/en/keeperpam/commander-cli/command-reference/plugins/pspasswd-plugin)
        * [SSH Plugin](/en/keeperpam/commander-cli/command-reference/plugins/ssh-plugin)
        * [Unix Passwd Plugin](/en/keeperpam/commander-cli/command-reference/plugins/unix-passwd-plugin)
        * [Windows Plugin](/en/keeperpam/commander-cli/command-reference/plugins/windows-plugin)
        * [Active Directory Plugin](/en/keeperpam/commander-cli/command-reference/plugins/active-directory-plugin)
        * [Automatic Execution](/en/keeperpam/commander-cli/command-reference/plugins/automatic-execution)

    * [Service Mode REST API](/en/keeperpam/commander-cli/service-mode-rest-api)
    * [Troubleshooting](/en/keeperpam/commander-cli/troubleshooting-commander-cli)

[Powered by
GitBook](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=-MJXOXEifAmpyvNVL1to)

On this page

  * About
  * Prerequisites
  * Steps
  * Create a Lambda Layer With AWS CloudShell
  * Create a Lambda
  * Setting Commander Parameters
  * Configure Lambda
  * Next Steps

Was this helpful?

[Export as
PDF](/en/keeperpam/~gitbook/pdf?page=8SfYsaSpM6iZ4JdH6ssf&only=yes&limit=100)

  1. [Commander CLI](/en/keeperpam/commander-cli)
  2. [Installation and Setup](/en/keeperpam/commander-cli/commander-installation-setup)

# Automating with AWS Lambda

Run Commander in the AWS Cloud

##

About

Commander is a powerful tool that can solve many issues and provide valuable
information about your Keeper Security environment. In addition to using
Commander on a local desktop or server, Commander can be run in a cloud
environment such as AWS for performing scheduled or on-demand requirements.

In this example, we will demonstrate how to use Commander with AWS Lambda to
run user and usage reports on a scheduled basis.

##

Prerequisites

  * Commander

    * See the[ Installation and Setup page](/en/keeperpam/commander-cli/commander-installation-setup) for download details

  * A Keeper user account with a Master Password login method (SSO login and MFA will not work without human interaction)

  * Access to AWS with permissions to create Lambda functions and associated layers, along with access to AWS CloudShell 

##

Steps

###

Create a Lambda Layer With AWS CloudShell

####

Setup

Commander needs to be packaged on a machine that matches what it will run on
in AWS Lambda. To do this, we can create the Commander package in CloudShell.

AWS CloudShell comes with Python 3.7 pre-installed, but just to be sure you
are using a supported version of Python (versions 3.6 - 3.11) to build your
Lambda Layer, go ahead and check the version of the installed Python
interpreter in your CloudShell console.

Copy

    
    
    $ python3 --version
    Python 3.9.16

In case the Python version you're running is not supported by Commander,
install one of the supported versions listed above prior to proceeding.

####

Building the Layer Content

For the next part of the process, we provide a convenient shell script for you
to run from within your CloudShell environment, which will create the zip file
that contains the `keepercommander` package needed for our Lambda Layer.

This script is intended to simplify and streamline much of the layer-content
packaging process, both by encapsulating the various command calls that are
standard for the process, and by abstracting away some build-process quirks
specific to the `keepercommander` package and its dependencies. As such, _**we
highly recommend using this approach over a more generic one, as it is much
less likely to be error-prone**_.

View Script

package_layer_content.sh

Copy

    
    
    #!/usr/bin/env bash
    
    #   To create a `keepercommander` dependency layer for your AWS Lambda function :
    #   1. Upload this script to any folder in your CloudShell environment.
    #   2. (Optional) Upload your project's `requirements.txt` file  to the same folder.
    #   3. In that folder, run
    #             source ./package_layer_content.sh
    #   4. There should now be a file named `commander-layer.zip` that can be uploaded
    #     to your S3 bucket, where it can then be used to create a new Lambda layer
    
    MAX_LIB_SIZE=262144000
    LAYER_FILENAME='commander-layer.zip'
    LAYER_PATH=$(pwd)/$LAYER_FILENAME
    LIB_DIR='python'
    VENV='commander-venv'
    OTHER_DEPS='requirements.txt'
    
    # Clean up previous artifacts
    test -f $LAYER_FILENAME && rm $LAYER_FILENAME
    test -d $LIB_DIR && rm -rf $LIB_DIR
    test -d $VENV && rm -rf $VENV
    
    # Create package folder to zip
    mkdir $LIB_DIR
    
    # Create and run virtual environment
    python -m venv $VENV
    source ./$VENV/bin/activate
    
    # Install dependencies and package
    pip install cryptography --platform manylinux2014_x86_64 --only-binary=:all: -t $LIB_DIR
    pip install keepercommander -t $LIB_DIR
    
    if test -f $OTHER_DEPS; then
      pip install -r $OTHER_DEPS -t $LIB_DIR
    fi
    
    deactivate
    
    # Check uncompressed library size
    LIB_SIZE=$(du -sb $LIB_DIR | cut -f 1)
    LIB_SIZE_MB=$(du -sm $LIB_DIR | cut -f 1)
    
    if [ "$LIB_SIZE" -ge $MAX_LIB_SIZE ]; then
      echo "*****************************************************************************************************************"
      echo 'Operation was aborted'
      echo "The resulting layer has too many dependencies and its size ($LIB_SIZE_MB MB) exceeds the maximum allowed (~262 MB)."
      echo 'Try breaking up your dependencies into smaller groups and package them as separate layers.'
      echo "*****************************************************************************************************************"
    else
      zip -r $LAYER_FILENAME $LIB_DIR
      echo "***************************************************************************"
      echo "***************************************************************************"
      echo 'Lambda layer file has been created'
      printf "To download, copy the following file path: %s\n%s\n$LAYER_PATH%s\n%s\n"
      echo 'and click on "Actions" in the upper-right corner of your CloudShell console'
      echo "***************************************************************************"
    fi
    
    # Clean-up
    rm -rf $LIB_DIR
    rm -rf $VENV
    

To use the script provided above, perform the following steps after
downloading the file:

  1. Upload the script to any folder (preferably an empty one) in your CloudShell environment

     * (Optional) If your project has a `requirements.txt` file containing a list of its dependencies, you can upload it to the same folder to include those dependencies in the resulting layer in addition to the `keepercommander `package.

  2. In that same folder, run the following command in the terminal: 

Copy

    
    
    source ./package_layer_content.sh

  1. You should now have a zip file (`commander-layer.zip`) in your current folder, which represents the content of your Lambda Layer. 

There is a size limit on packaged Lambda layer content (even if stored in S3).
So if you try to include additional dependencies by providing the
`requirements.txt` file for the script above, and it results in the total
content size exceeding this limit, the resulting zip file will be unusable.
Hence, no layer content will be output when the script detects this scenario,
and a helpful message will be shown to the user instead.

A relatively simple solution is to break up your dependencies into smaller
groups to be packaged into corresponding separate layers. You can remove some
(or all) dependencies from `requirements.txt` and run the script again. Any
dependencies excluded from the resulting package can then be packaged
separately into another layer using the standard packaging process.

####

Creating / Updating a Layer from the Content Zip File

Because the resulting zip file is going to be bigger than 50MB (the maximum
allowed to be uploaded directly to a Lambda Layer), we'll have to first upload
it to an AWS S3 Bucket, and then link the resulting S3 item to our Lambda
Layer.

There are multiple ways to complete the remaining steps just mentioned, and if
you prefer a GUI-based route, using the AWS Console is a perfectly valid
option at this point. But since we're already in our CloudShell environment,
using its built-in AWS CLI command-line tool seems like the simplest and most
direct way forward, so that is the method we'll show here.

  1. First, we need to upload our zip file to AWS S3. If you didn't previously create a S3 bucket for this task, you can do so by running the following command in CloudShell:

Copy

    
    
    $ aws s3 mb <bucket-name>

where `<bucket-name>` is required to be a globally unique name, so you may
have to try at least a few times until one is found.

  1. Upload the newly-packaged zip file from CloudShell to your S3 bucket

Copy

    
    
    $ aws s3 cp ./commander-layer.zip 's3://<bucket-name>'

  1. Publish the Lambda layer with the uploaded content 

Copy

    
    
    $ aws lambda publish-layer-version --layer-name <layer-name> \
    --description <layer-description> \
    --content "S3Bucket=<bucket-name>,S3Key=commander-layer.zip" \
    --compatible-runtimes python<your-version>
    

###

Create a Lambda

In AWS Lambda, use the Lambda editor to write a Python function.

The `lambda_handler` function is triggered by Lambda when it is processed.

See a complete example of a Commander Lambda function below:

Copy

    
    
    #  _  __
    # | |/ /___ ___ _ __  ___ _ _ Â®
    # | ' </ -_) -_) '_ \/ -_) '_|
    # |_|\_\___\___| .__/\___|_|
    #              |_|
    #
    # Keeper Commander
    # Copyright 2024 Keeper Security Inc.
    # Contact: ops@keepersecurity.com
    #
    #
    import json
    import os
    import datetime
    from typing import Optional
    
    from email.mime.application import MIMEApplication
    from email.mime.multipart import MIMEMultipart
    from email.mime.text import MIMEText
    
    import boto3
    
    from keepercommander import api
    from keepercommander.commands.enterprise import UserReportCommand
    from keepercommander.commands.security_audit import SecurityAuditReportCommand
    from keepercommander.params import KeeperParams
    
    
    # Create report (format: JSON) combining data from 2 existing Commander reports
    def create_user_report(params):  # type: (KeeperParams) -> Optional[str]
        user_report = UserReportCommand()
        user_report_data = user_report.execute(params, format='json')
        data = json.loads(user_report_data)
        users = {x['email']: x for x in data}
        security_audit_report = SecurityAuditReportCommand()
        security_audit_report_data = security_audit_report.execute(params, format='json')
        if security_audit_report_data:
            data = json.loads(security_audit_report_data)
            for x in data:
                if 'email' in x:
                    email = x['email']
                    if email in users:
                        user = users[email]
                        for key in x:
                            if key not in user:
                                if key not in ('node_path', 'username'):
                                    user[key] = x[key]
                    else:
                        users[email] = x
    
        return json.dumps(list(users.values()), indent=2)
    
    
    # This Lambda's entry point
    def lambda_handler(event, context):
        params = get_params()
        api.login(params)
        api.query_enterprise(params, True)
        
        # Log Commander-related issues (e.g., incorrect credentials) 
        # using AWS's built-in logging module and abort
        if not params.session_token:
            print('Not connected') 
            return 'Error: See Lambda log for details'
        if not params.enterprise:
            print('Not enterprise administrator')
            return 'Error: See Lambda log for details'
        
        # Generate and send report 
        report = create_user_report(params)
        response = email_result(report)
        return response
    
    
    # Email report data (as JSON attachment) to recipient specified in this Lambda
    # function's environment variables
    def email_result(report):
        sender = os.environ.get('KEEPER_SENDER')
        sendto = os.environ.get('KEEPER_SENDTO')
        region = 'us-east-1'
        ses_client = boto3.client('ses', region_name=region)
    
        message = MIMEMultipart('mixed')
        message['Subject'] = 'Keeper Commander User Security Report With  CSV (attached)'
        message['To'] = sendto
        message['From'] = sender
        now = datetime.datetime.now()
    
        body = MIMEText(f'User Report Output created and sent at {now}', 'plain')
        message.attach(body)
    
        attachment = MIMEApplication(report)
        attachment.add_header(
            'Content-Disposition',
            'attachment',
            filename='user-report.json'
        )
        message.attach(attachment)
    
        response = ses_client.send_raw_email(
            Source=message['From'],
            Destinations=[sendto],
            RawMessage={'Data': message.as_string()}
        )
        
        return response
    
    
    # Get required Commander parameters from environment variables
    def get_params():
        user = os.environ.get('KEEPER_USER')
        pw = os.environ.get('KEEPER_PASSWORD')
        server = os.environ.get('KEEPER_SERVER')
        private_key = os.environ.get('KEEPER_PRIVATE_KEY')
        token = os.environ.get('KEEPER_DEVICE_TOKEN')
        my_params = KeeperParams()
        
        # Force password-login (needed for SSO + Master Password accounts)
        my_params.config = {'sso_master_password': True}
        
        my_params.user = user
        my_params.password = pw
        my_params.server = server
        my_params.device_private_key = private_key
        my_params.device_token = token
        return my_params
    
    

The function is made up of several parts:

####

The lambda_handler function

This function is called when the lambda is triggered, all other functions
should be called from this one.

####

Gathering Commander Parameters

Commander uses some parameters in order to authenticate the user account. We
will attach these as environment variables and inject them into the Lambda.
See further instructions below.

####

Commander Functions

The above steps are all that are _required_ to run Commander in Lambda, once
they have been done and Commander SDK code can be performed.

In this example, we run a user status report and send the results to an email
address.

###

Setting Commander Parameters

Commander uses some parameters to authenticate the user account and identify
what Keeper region to access. In order to pass these parameters into Lambda,
we will set them as environment variables.

####

Gathering parameters

Commander automatically creates the required parameters when you login to the
CLI. The easiest way to generate the required parameters is to login to the
Commander CLI on your machine.

You should see a file that looks similar to this:

Copy

    
    
    {
        "clone_code": "36[...]A0g",
        "user": "user@example.com",
        "server": "keepersecurity.com",
        "private_key": "sxv[...]oz3p=fzw",
        "device_token": "xko[...]r2IxdiQ"
    }

####

Setting Parameters in AWS Lambda

To set the required Commander parameters as environment variables, first head
to the lambda configuration and select "Environment Variables".

Set each commander parameter as an environment variable to be used by the
Lambda.

You will also need to add your keeper master password to be used to login to
Commander.

Environment Variable Name

Value

Example

KEEPER_USER

Keeper user account email address (config `user` field)

user@example.com

KEEPER_SERVER

Keeper server domain (config `server` field)

keepersecurity.com

KEEPER_PRIVATE_KEY

`private_key` field from config

sxv[...]oz3p=fzw

KEEPER_DEVICE_TOKEN

`device_token` field from config

xko[...]r2IxdiQ

KEEPER_PASSWORD

Password for keeper account

*****

KEEPER_SENDER

Email address to send emails from

user@example.com

KEEPER_SENDTO

Email address to send emails to

receiver@example.com

We are using environment variables to set the email addresses to send from and
to for this example code. If you are not sending an email in your script,
these are not needed

###

Configure Lambda

####

Set Timeout

In the general configuration section of the Lambda configuration, it is
recommended to change the timeout value. Some Commander functions take time,
so if your script takes longer to complete than this number, the Lambda will
automatically end without finishing.

You can set this to any number you are comfortable with. A value of 300
seconds (5 minutes) should be more than enough time for most processes.

####

Select Layer

In the Lambda editor, select the layer that you created above to include the
Commander package in your Lambda build.

####

Create run Schedule

Create an EventCloud trigger to trigger the Lambda and set it to trigger at a
cadence of your choice (for example once per day, or once every 30 days).

AWS can also be configured to trigger Lambda from a number of other sources
including email and SMS triggers. See Amazon's documentation on invoking
Lambda for more options:

####

Configure For Sending Emails

In this example, we are sending an email with the report results. In order to
enable the email, you will need to allow Lambda to access SES
`SendEmail/SendRawEmail `service.

You will also need to create an IAM identity to enable email sending.

For more information on setting up email sending with AWS, see Amazon's
documentation:

In this example, we are sending an email with the report results. In order to
enable the email, you will need to allow Lambda to access SES
`SendEmail`/`SendRawEmail` service.

##

Next Steps

In this example, we run a report that combines the results of 2 Commander
reports (`user-report` and `security-audit-report`) and send it via email as a
JSON attachment, allowing us to obtain enterprise-wide security-monitoring
data -- e.g., last-login date and overall security scores for each user in the
enterprise -- in a regularly-scheduled and automated way. However, with this
setup, any other set of Commander functions can be run with Lambda.

Experiment with other Commander functionality, Lambda invocation methods, and
other AWS services (such as SNS for utilizing various methods for push
notifications -- including SMS messages) to bring automated value to your
Keeper processes.

For some examples of using the Commander SDK code, see the example scripts in
the Commander GitHub repo:

To learn more about Commander's various methods, see the Command Reference
section.

[Command Reference](/en/keeperpam/commander-cli/command-reference)

[PreviousAutomating with Windows Task](/en/keeperpam/commander-cli/commander-
installation-setup/automating-with-windows-
task)[NextUninstallation](/en/keeperpam/commander-cli/commander-installation-
setup/uninstallation)

Last updated 5 months ago

Was this helpful?

#### Company

  * [Keeper Home](https://www.keepersecurity.com/)
  * [About Us](https://www.keepersecurity.com/about.html)
  * [Careers](https://www.keepersecurity.com/jobs.html)
  * [Security](https://www.keepersecurity.com/security.html)

#### Support

  * [Help Center](https://www.keepersecurity.com/support.html)
  * [Contact Sales](https://www.keepersecurity.com/contact.html?t=b&r=sales)
  * [System Status](https://statuspage.keeper.io/)
  * [Terms of Use](https://www.keepersecurity.com/termsofuse.html)

#### Solutions

  * [Enterprise Password Management](https://www.keepersecurity.com/enterprise.html)
  * [Business Password Management](https://www.keepersecurity.com/business.html)
  * [Privileged Access Management](https://www.keepersecurity.com/privileged-access-management/)
  * [Public Sector](https://www.keepersecurity.com/government-cloud/)

#### Pricing

  * [Business and Enterprise](https://www.keepersecurity.com/pricing/business-and-enterprise.html)
  * [Personal and Family](https://www.keepersecurity.com/pricing/personal-and-family.html)
  * [Student](https://www.keepersecurity.com/student-discount-50off.html)
  * [Military and Medical](https://www.keepersecurity.com/id-me-verification.html)

Â© 2025 Keeper Security, Inc.

To get the Commander parameters, open the generated config.json file. By
default this is located in the `Users/[your username]/.keeper/` folder on your
machine. See thefor more information.

[![Logo](https://a0.awsstatic.com/libra-css/images/site/touch-icon-
ipad-144-smile.png)Send email using Lambda and Amazon SESAmazon Web Services,
Inc.](https://aws.amazon.com/premiumsupport/knowledge-center/lambda-send-
email-ses/)

[![Logo](https://docs.aws.amazon.com/assets/images/favicon.ico)Invoking Lambda
functions - AWS LambdaAWS
Lambda](https://docs.aws.amazon.com/lambda/latest/dg/lambda-invocation.html)

[![Logo](https://github.com/fluidicon.png)Commander/examples at master Â·
Keeper-Security/CommanderGitHub](https://github.com/Keeper-
Security/Commander/tree/master/examples)

[ config file documentation ](/en/keeperpam/commander-cli/commander-
installation-setup/logging-in#commander-configuration-file)

[2KBpackage_layer_content.sh](https://762006384-files.gitbook.io/~/files/v0/b/gitbook-
x-
prod.appspot.com/o/spaces%2F-MJXOXEifAmpyvNVL1to%2Fuploads%2FgxJz7bvtfe4hTfuTA0cc%2Fpackage_layer_content.sh?alt=media&token=f624bf70-327c-4b10-9f18-a1f1ae06ecc1)

Bash script for packaging `keepercommander` Lambda Layer content

