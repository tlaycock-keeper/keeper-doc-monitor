[![Logo](https://docs.keeper.io/~gitbook/image?url=https%3A%2F%2F2557019839-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-
x-
prod.appspot.com%2Fo%2Fspaces%252FOthZEjvFH25YbgTBe0jT%252Flogo%252Fp7my2BdDymT53qZmRrq5%252FKeeper_600.png%3Falt%3Dmedia%26token%3D0a515169-d51f-4ca3-a458-f81394812492&width=260&dpr=4&quality=100&sign=ce896b6e&sv=2)![Logo](https://docs.keeper.io/~gitbook/image?url=https%3A%2F%2F2557019839-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-
x-
prod.appspot.com%2Fo%2Fspaces%252FOthZEjvFH25YbgTBe0jT%252Flogo%252Fqe0JYUjJDoQWioecglOW%252Fkeeper-
no-
tag.png%3Falt%3Dmedia%26token%3D29dff9f6-9c7e-41f4-80a3-e879ee78667c&width=260&dpr=4&quality=100&sign=1e0a5ac8&sv=2)](https://docs.keeper.io/en/)

Ask or search...

`Ctrl``K`

KeeperPAM and Secrets Manager

KeeperPAM and Secrets Manager

  * [KeeperPAM](/en/keeperpam)
  * Privileged Access Manager

    * [Setup Steps](/en/keeperpam/privileged-access-manager/setup-steps)
    * [Quick Start: Sandbox](/en/keeperpam/privileged-access-manager/quick-start-sandbox)
    * [Getting Started](/en/keeperpam/privileged-access-manager/getting-started)

      * [Architecture](/en/keeperpam/privileged-access-manager/getting-started/architecture)

        * [Architecture Diagram](/en/keeperpam/privileged-access-manager/getting-started/architecture/system-architecture)
        * [Vault Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/vault-security)
        * [Router Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/router-security)
        * [Gateway Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/gateway-security)
        * [Connection and Tunnel Security](/en/keeperpam/privileged-access-manager/getting-started/architecture/connection-and-tunnel-security)

      * [KeeperPAM Licensing](/en/keeperpam/privileged-access-manager/getting-started/keeperpam-licensing)
      * [Enforcement Policies](/en/keeperpam/privileged-access-manager/getting-started/enforcement-policies)
      * [Vault Structure](/en/keeperpam/privileged-access-manager/getting-started/vault-structure)
      * [Record Linking](/en/keeperpam/privileged-access-manager/getting-started/record-linking)
      * [Applications](/en/keeperpam/privileged-access-manager/getting-started/applications)
      * [Devices](/en/keeperpam/privileged-access-manager/getting-started/devices)
      * [Gateways](/en/keeperpam/privileged-access-manager/getting-started/gateways)

        * [Creating a Gateway](/en/keeperpam/privileged-access-manager/getting-started/gateways/one-time-access-token)
        * [Docker Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/docker-installation)
        * [Linux Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/linux-installation)
        * [Windows Installation](/en/keeperpam/privileged-access-manager/getting-started/gateways/windows-installation)
        * [Auto Updater](/en/keeperpam/privileged-access-manager/getting-started/gateways/auto-updater)
        * [Alerts and SIEM Integration](/en/keeperpam/privileged-access-manager/getting-started/gateways/alerts-and-siem-integration)
        * [Advanced Configuration](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration)

          * [Gateway Configuration with AWS KMS](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration/gateway-configuration-with-aws-kms)
          * [Gateway Configuration with Custom Fields](/en/keeperpam/privileged-access-manager/getting-started/gateways/advanced-configuration/gateway-configuration-with-custom-fields)

      * [PAM Configuration](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration)

        * [AWS Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/aws-environment-setup)
        * [Azure Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/azure-environment-setup)
        * [Local Environment Setup](/en/keeperpam/privileged-access-manager/getting-started/pam-configuration/local-environment-setup)

      * [PAM Resources](/en/keeperpam/privileged-access-manager/getting-started/pam-resources)

        * [PAM Machine](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine)

          * [Example: Linux Machine](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine/example-linux-machine)
          * [Example: Azure Windows VM](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-machine/example-azure-windows-vm)

        * [PAM Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database)

          * [Example: MySQL Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-mysql-database)
          * [Example: PostgreSQL Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-postgresql-database)
          * [Example: Microsoft SQL Server Database](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-database/example-microsoft-sql-server-database)

        * [PAM Directory](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-directory)
        * [PAM Remote Browser](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-remote-browser)
        * [PAM User](/en/keeperpam/privileged-access-manager/getting-started/pam-resources/pam-user)

      * [Sharing and Access Control](/en/keeperpam/privileged-access-manager/getting-started/sharing-and-access-control)
      * [Just-In-Time Access (JIT)](/en/keeperpam/privileged-access-manager/getting-started/just-in-time-access-jit)

    * [Password Rotation](/en/keeperpam/privileged-access-manager/password-rotation)

      * [Rotation Overview](/en/keeperpam/privileged-access-manager/password-rotation/rotation-overview)
      * [Rotation Use Cases](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases)

        * [Azure](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure)

          * [Azure AD Users](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-ad-users)
          * [Azure VM User Accounts](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-vm-user-accounts)
          * [Azure Managed Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database)

            * [Azure SQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-sql)
            * [Azure MySQL - Single or Flexible Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-mysql-single-or-flexible-database)
            * [Azure MariaDB Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-mariadb-database)
            * [Azure PostgreSQL - Single or Flexible Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/managed-database/azure-postgresql-single-or-flexible-database)

          * [Azure App Secret Rotation](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/azure/azure-app-secret-rotation)

        * [AWS](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws)

          * [IAM User Password](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/iam-user)
          * [Managed Microsoft AD User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/directory-user)
          * [EC2 Virtual Machine User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/ec2-virtual-machine-user)
          * [IAM User Access Key](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/iam-user-access-key)
          * [Managed Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database)

            * [AWS RDS for MySQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-mysql)
            * [AWS RDS for SQL Server](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-sql-server)
            * [AWS RDS for PostgreSQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-postgresql)
            * [AWS RDS for MariaDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-mariadb)
            * [AWS RDS for Oracle](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/aws/managed-database/aws-rds-for-oracle)

        * [Local Network](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network)

          * [Active Directory or OpenLDAP User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/active-directory)
          * [Windows User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/windows-user)
          * [Linux User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/linux-user)
          * [macOS User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/macos-user)
          * [Database](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database)

            * [Native MySQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mysql)
            * [Native MariaDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mariadb)
            * [Native PostgreSQL](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/postgresql)
            * [Native MongoDB](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/mongodb)
            * [Native MS SQL Server](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/ms-sql-server)
            * [Native Oracle](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/local-network/database/oracle)

        * [SaaS Accounts](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts)

          * [Okta User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/okta-user)
          * [Snowflake User](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/snowflake-user)
          * [Rotate Credential via REST API](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/saas-accounts/rotate-credential-via-rest-api)

        * [Network Devices](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices)

          * [Cisco IOS XE](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices/cisco-ios-xe)
          * [Cisco Meraki](/en/keeperpam/privileged-access-manager/password-rotation/rotation-use-cases/network-devices/cisco-meraki)

      * [Service Management](/en/keeperpam/privileged-access-manager/password-rotation/service-management)
      * [Post-Rotation Scripts](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts)

        * [Inputs and Outputs](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/parameters)
        * [Attaching Scripts](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/attaching-post-rotation-scripts-to-records)
        * [Code Examples](/en/keeperpam/privileged-access-manager/password-rotation/post-rotation-scripts/accessing-parameters)

    * [Connections](/en/keeperpam/privileged-access-manager/connections)

      * [Getting Started](/en/keeperpam/privileged-access-manager/connections/getting-started)
      * [Session Protocols](/en/keeperpam/privileged-access-manager/connections/session-protocols)

        * [SSH Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/ssh-connections)
        * [RDP Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/rdp-connections)
        * [RBI Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/rbi-connections)
        * [MySQL Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/mysql-connections)
        * [SQL Server Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/sql-server-connections)
        * [PostgreSQL Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/postgresql-connections)
        * [VNC Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/vnc-connections)
        * [Telnet Connections](/en/keeperpam/privileged-access-manager/connections/session-protocols/telnet-connections)

      * [Examples](/en/keeperpam/privileged-access-manager/connections/examples)

        * [SSH Protocol - Linux Machine](/en/keeperpam/privileged-access-manager/connections/examples/ssh-protocol-linux-machine)
        * [RDP Protocol - Azure Virtual Machine](/en/keeperpam/privileged-access-manager/connections/examples/rdp-protocol-azure-virtual-machine)
        * [MySQL Protocol - MySQL Database](/en/keeperpam/privileged-access-manager/connections/examples/mysql-protocol-mysql-database)
        * [PostgreSQL Protocol - PostgreSQL Database](/en/keeperpam/privileged-access-manager/connections/examples/postgresql-protocol-postgresql-database)

    * [Tunnels](/en/keeperpam/privileged-access-manager/tunnels)

      * [Setting up Tunnels](/en/keeperpam/privileged-access-manager/tunnels/setting-up-tunnels)

    * [Remote Browser Isolation](/en/keeperpam/privileged-access-manager/remote-browser-isolation)

      * [Setting up RBI](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi)

        * [URL Patterns & Resource URL Patterns](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi/url-patterns-and-resource-url-patterns)
        * [Browser Autofill](/en/keeperpam/privileged-access-manager/remote-browser-isolation/setting-up-rbi/browser-autofill)

    * [Session Recording & Playback](/en/keeperpam/privileged-access-manager/session-recording-and-playback)
    * [SSH Agent](/en/keeperpam/privileged-access-manager/ssh-agent)

      * [Integration with Git](/en/keeperpam/privileged-access-manager/ssh-agent/integration-with-git)

    * [Discovery](/en/keeperpam/privileged-access-manager/discovery)

      * [Discovery Basics](/en/keeperpam/privileged-access-manager/discovery/discovery-basics)
      * [Discovery using Commander](/en/keeperpam/privileged-access-manager/discovery/discovery-using-commander)
      * [Discovery using the Vault](/en/keeperpam/privileged-access-manager/discovery/discovery-using-the-vault)

    * [On-Prem Connection Manager](/en/keeperpam/privileged-access-manager/on-prem-connection-manager)
    * [References](/en/keeperpam/privileged-access-manager/references)

      * [Port Mapping](/en/keeperpam/privileged-access-manager/references/port-mapping)
      * [Setting up SSH](/en/keeperpam/privileged-access-manager/references/setting-up-ssh)
      * [Setting up WinRM](/en/keeperpam/privileged-access-manager/references/setting-up-winrm)
      * [Setting up SQL Server](/en/keeperpam/privileged-access-manager/references/setting-up-sql-server)
      * [Database Import and Export](/en/keeperpam/privileged-access-manager/references/database-import-and-export)
      * [Installing sqlcmd on Linux](/en/keeperpam/privileged-access-manager/references/installing-sqlcmd-on-linux)
      * [Installing Docker on Linux](/en/keeperpam/privileged-access-manager/references/installing-docker-on-linux)
      * [Creating KSM App for Rotation](/en/keeperpam/privileged-access-manager/references/creating-ksm-app-for-rotation)
      * [Active Directory Least Privilege](/en/keeperpam/privileged-access-manager/references/active-directory-least-privilege)
      * [Event Reporting](/en/keeperpam/privileged-access-manager/references/event-reporting)
      * [Importing PAM Records](/en/keeperpam/privileged-access-manager/references/importing-pam-records)
      * [Managing Rotation via CLI](/en/keeperpam/privileged-access-manager/references/managing-rotation-via-cli)
      * [Commander SDK](/en/keeperpam/privileged-access-manager/references/commander-sdk)
      * [Cron Spec](/en/keeperpam/privileged-access-manager/references/cron-spec)
      * [Preview Access](/en/keeperpam/privileged-access-manager/references/preview-access)

  * Endpoint Privilege Manager

    * [Overview](/en/keeperpam/endpoint-privilege-manager/overview)
    * [Setup](/en/keeperpam/endpoint-privilege-manager/setup)
    * [Deployment](/en/keeperpam/endpoint-privilege-manager/deployment)
    * [Policies](/en/keeperpam/endpoint-privilege-manager/policies)
    * [Managing Requests](/en/keeperpam/endpoint-privilege-manager/managing-requests)
  * [FAQs](/en/keeperpam/faqs)
  * Secrets Manager

    * [Secrets Manager Overview](/en/keeperpam/secrets-manager/overview)
    * [Quick Start Guide](/en/keeperpam/secrets-manager/quick-start-guide)
    * [About KSM](/en/keeperpam/secrets-manager/about)

      * [Architecture](/en/keeperpam/secrets-manager/about/architecture)
      * [Terminology](/en/keeperpam/secrets-manager/about/terminology)
      * [Security & Encryption Model](/en/keeperpam/secrets-manager/about/security-encryption-model)
      * [One Time Access Token](/en/keeperpam/secrets-manager/about/one-time-token)
      * [Secrets Manager Configuration](/en/keeperpam/secrets-manager/about/secrets-manager-configuration)
      * [Keeper Notation](/en/keeperpam/secrets-manager/about/keeper-notation)
      * [Event Reporting](/en/keeperpam/secrets-manager/about/event-reporting)
      * [Field/Record Types](/en/keeperpam/secrets-manager/about/field-record-types)

    * [Secrets Manager CLI](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface)

      * [Profile Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/profile-command)
      * [Init Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/init-command)
      * [Secret Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/secret-command)
      * [Folder Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/folder-command)
      * [Sync Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/sync-command)
      * [Exec Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/exec-command)
      * [Config Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/config-command)
      * [Version Command](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/version-command)
      * [Misc Commands](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/vault-admin-commands)
      * [Docker Container](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/docker-container)
      * [Custom Record Types](/en/keeperpam/secrets-manager/secrets-manager-command-line-interface/custom-record-types)

    * [Password Rotation](/en/keeperpam/secrets-manager/password-rotation)
    * [Developer SDKs](/en/keeperpam/secrets-manager/developer-sdk-library)

      * [Python SDK](/en/keeperpam/secrets-manager/developer-sdk-library/python-sdk)
      * [Java/Kotlin SDK](/en/keeperpam/secrets-manager/developer-sdk-library/java-sdk)

        * [Record Field Classes](/en/keeperpam/secrets-manager/developer-sdk-library/java-sdk/record-field-classes)

      * [JavaScript SDK](/en/keeperpam/secrets-manager/developer-sdk-library/javascript-sdk)
      * [.NET SDK](/en/keeperpam/secrets-manager/developer-sdk-library/.net-sdk)
      * [Go SDK](/en/keeperpam/secrets-manager/developer-sdk-library/golang-sdk)

        * [Record Field Classes](/en/keeperpam/secrets-manager/developer-sdk-library/golang-sdk/record-field-classes)

      * [PowerShell](/en/keeperpam/secrets-manager/developer-sdk-library/powershell)
      * [Vault SDKs](/en/keeperpam/secrets-manager/developer-sdk-library/vault-sdks)

    * [Integrations](/en/keeperpam/secrets-manager/integrations)

      * [Ansible](/en/keeperpam/secrets-manager/integrations/ansible)

        * [Ansible Plugin](/en/keeperpam/secrets-manager/integrations/ansible/ansible-plugin)
        * [Ansible Tower](/en/keeperpam/secrets-manager/integrations/ansible/ansible-tower)

      * [AWS CLI Credential Process](/en/keeperpam/secrets-manager/integrations/aws-cli-credential-process)
      * [AWS Secrets Manager Sync](/en/keeperpam/secrets-manager/integrations/aws-secrets-manager)
      * [AWS KMS Encryption](/en/keeperpam/secrets-manager/integrations/aws-kms)
      * [Azure DevOps Extension](/en/keeperpam/secrets-manager/integrations/azure-devops-plugin)
      * [Azure Key Vault Sync](/en/keeperpam/secrets-manager/integrations/azure-key-vault)
      * [Azure Key Vault Encryption](/en/keeperpam/secrets-manager/integrations/azure-key-vault-ksm)
      * [Bitbucket Plugin](/en/keeperpam/secrets-manager/integrations/bitbucket-plugin)
      * [Docker Image](/en/keeperpam/secrets-manager/integrations/docker-image)
      * [Docker Runtime](/en/keeperpam/secrets-manager/integrations/docker-runtime)
      * [Docker Writer Image](/en/keeperpam/secrets-manager/integrations/docker-writer-image)
      * [Entrust HSM Encryption](/en/keeperpam/secrets-manager/integrations/entrust-hsm)
      * [Git - Sign Commits with SSH](/en/keeperpam/secrets-manager/integrations/git-sign-commits-with-ssh)
      * [GitHub Actions](/en/keeperpam/secrets-manager/integrations/github-actions)
      * [GitLab](/en/keeperpam/secrets-manager/integrations/gitlab-plugin)
      * [Google Cloud Secret Manager Sync](/en/keeperpam/secrets-manager/integrations/gcp-secret-manager)
      * [Google Cloud Key Management Encryption](/en/keeperpam/secrets-manager/integrations/google-cloud-key-management-encryption)
      * [Hashicorp Vault](/en/keeperpam/secrets-manager/integrations/hashicorp-vault)
      * [Heroku](/en/keeperpam/secrets-manager/integrations/heroku)
      * [Jenkins Plugin](/en/keeperpam/secrets-manager/integrations/jenkins-plugin)
      * [Keeper Connection Manager](/en/keeperpam/secrets-manager/integrations/keeper-connection-manager)
      * [Kubernetes External Secrets Operator](/en/keeperpam/secrets-manager/integrations/kubernetes-external-secrets-operator)
      * [Kubernetes (alternative)](/en/keeperpam/secrets-manager/integrations/kubernetes)
      * [Linux Keyring](/en/keeperpam/secrets-manager/integrations/linux-keyring)
      * [Octopus Deploy](/en/keeperpam/secrets-manager/integrations/octopus-deploy)
      * [Oracle Key Vault Encryption](/en/keeperpam/secrets-manager/integrations/oracle-key-vault)
      * [PowerShell Plugin](/en/keeperpam/secrets-manager/integrations/powershell-plugin)
      * [ServiceNow](/en/keeperpam/secrets-manager/integrations/servicenow)
      * [TeamCity](/en/keeperpam/secrets-manager/integrations/teamcity)
      * [Teller](/en/keeperpam/secrets-manager/integrations/teller)
      * [Terraform Plugin](/en/keeperpam/secrets-manager/integrations/terraform)

        * [Terraform Registry](https://registry.terraform.io/providers/Keeper-Security/secretsmanager/latest/docs/data-sources/address)

      * [Windows Credential Manager](/en/keeperpam/secrets-manager/integrations/windows-credential-manager)
      * [XSOAR](/en/keeperpam/secrets-manager/integrations/xsoar)

    * [Troubleshooting](/en/keeperpam/secrets-manager/troubleshooting)
  * Commander CLI

    * [Commander Overview](/en/keeperpam/commander-cli/overview)
    * [Installation and Setup](/en/keeperpam/commander-cli/commander-installation-setup)

      * [CLI Installation on Windows](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-windows)
      * [CLI Installation on macOS](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-mac)
      * [CLI Installation on Linux](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-linux)
      * [Python Developer Setup](/en/keeperpam/commander-cli/commander-installation-setup/developer-mode)
      * [.NET Developer Setup](/en/keeperpam/commander-cli/commander-installation-setup/net-developer-sdk)
      * [PowerShell Module](/en/keeperpam/commander-cli/commander-installation-setup/installation-on-powershell)
      * [Logging in](/en/keeperpam/commander-cli/commander-installation-setup/logging-in)
      * [Configuration and Usage](/en/keeperpam/commander-cli/commander-installation-setup/configuration)

        * [AWS Secrets Manager](/en/keeperpam/commander-cli/commander-installation-setup/configuration/aws-secrets-manager)
        * [AWS Key Management Service](/en/keeperpam/commander-cli/commander-installation-setup/configuration/aws-key-management-service)

      * [Automating with Windows Task](/en/keeperpam/commander-cli/commander-installation-setup/automating-with-windows-task)
      * [Automating with AWS Lambda](/en/keeperpam/commander-cli/commander-installation-setup/using-commander-with-aws-lambda)
      * [Uninstallation](/en/keeperpam/commander-cli/commander-installation-setup/uninstallation)

    * [Command Reference](/en/keeperpam/commander-cli/command-reference)

      * [Import and Export Data](/en/keeperpam/commander-cli/command-reference/import-and-export-commands)

        * [Import/Export Commands](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/import-export-commands)
        * [CyberArk Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/cyberark-import)
        * [LastPass Data Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/lastpass-import)
        * [Delinea / Thycotic Secret Server Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/delinea-thycotic-secret-server-import)
        * [Keepass Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/keepass-import)
        * [ManageEngine Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/manageengine-import)
        * [Myki Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/myki-import)
        * [Proton Pass Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/proton-pass-import)
        * [CSV Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/csv-import)
        * [JSON Import](/en/keeperpam/commander-cli/command-reference/import-and-export-commands/json-import)

      * [Reporting Commands](/en/keeperpam/commander-cli/command-reference/reporting-commands)

        * [Report Types](/en/keeperpam/commander-cli/command-reference/reporting-commands/report-types)

      * [Enterprise Management Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands)

        * [Creating and Inviting Users](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/creating-and-inviting-users)
        * [Compliance Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/compliance-commands)
        * [Breachwatch Commands](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/breachwatch-commands)
        * [SCIM Push Configuration](/en/keeperpam/commander-cli/command-reference/enterprise-management-commands/scim-push-configuration)

      * [Record Commands](/en/keeperpam/commander-cli/command-reference/record-commands)

        * [Record Type Commands](/en/keeperpam/commander-cli/command-reference/record-commands/record-type-commands)
        * [Creating Record Types](/en/keeperpam/commander-cli/command-reference/record-commands/default-record-types)

      * [Sharing Commands](/en/keeperpam/commander-cli/command-reference/sharing-commands)
      * [KeeperPAM Commands](/en/keeperpam/commander-cli/command-reference/keeperpam-commands)
      * [Connection Commands](/en/keeperpam/commander-cli/command-reference/connection-commands)

        * [SSH](/en/keeperpam/commander-cli/command-reference/connection-commands/ssh)
        * [SSH Agent](/en/keeperpam/commander-cli/command-reference/connection-commands/ssh-agent)
        * [RDP](/en/keeperpam/commander-cli/command-reference/connection-commands/rdp)
        * [Connect Command](/en/keeperpam/commander-cli/command-reference/connection-commands/connection-to-hosts)
        * [SFTP Sync](/en/keeperpam/commander-cli/command-reference/connection-commands/sftp-sync)

      * [Secrets Manager Commands](/en/keeperpam/commander-cli/command-reference/secrets-manager-commands)
      * [MSP Management Commands](/en/keeperpam/commander-cli/command-reference/msp-management-commands)
      * [Miscellaneous Commands](/en/keeperpam/commander-cli/command-reference/misc-commands)
      * [Password Rotation](/en/keeperpam/commander-cli/command-reference/plugins)

        * [Password Rotation Commands](/en/keeperpam/commander-cli/command-reference/plugins/password-rotation)
        * [AWS Plugin](/en/keeperpam/commander-cli/command-reference/plugins/aws-plugin)
        * [Azure Plugin](/en/keeperpam/commander-cli/command-reference/plugins/azure-plugin)
        * [Microsoft SQL Server Plugin](/en/keeperpam/commander-cli/command-reference/plugins/microsoft-sql-server-plugin)
        * [MySQL Plugin](/en/keeperpam/commander-cli/command-reference/plugins/mysql-plugin)
        * [Oracle Plugin](/en/keeperpam/commander-cli/command-reference/plugins/oracle-plugin)
        * [PostgreSQL Plugin](/en/keeperpam/commander-cli/command-reference/plugins/postgresql-plugin)
        * [PSPasswd Plugin](/en/keeperpam/commander-cli/command-reference/plugins/pspasswd-plugin)
        * [SSH Plugin](/en/keeperpam/commander-cli/command-reference/plugins/ssh-plugin)
        * [Unix Passwd Plugin](/en/keeperpam/commander-cli/command-reference/plugins/unix-passwd-plugin)
        * [Windows Plugin](/en/keeperpam/commander-cli/command-reference/plugins/windows-plugin)
        * [Active Directory Plugin](/en/keeperpam/commander-cli/command-reference/plugins/active-directory-plugin)
        * [Automatic Execution](/en/keeperpam/commander-cli/command-reference/plugins/automatic-execution)

    * [Service Mode REST API](/en/keeperpam/commander-cli/service-mode-rest-api)
    * [Troubleshooting](/en/keeperpam/commander-cli/troubleshooting-commander-cli)

[Powered by
GitBook](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=-MJXOXEifAmpyvNVL1to)

#### Company

  * [Keeper Home](https://www.keepersecurity.com/)
  * [About Us](https://www.keepersecurity.com/about.html)
  * [Careers](https://www.keepersecurity.com/jobs.html)
  * [Security](https://www.keepersecurity.com/security.html)

#### Support

  * [Help Center](https://www.keepersecurity.com/support.html)
  * [Contact Sales](https://www.keepersecurity.com/contact.html?t=b&r=sales)
  * [System Status](https://statuspage.keeper.io/)
  * [Terms of Use](https://www.keepersecurity.com/termsofuse.html)

#### Solutions

  * [Enterprise Password Management](https://www.keepersecurity.com/enterprise.html)
  * [Business Password Management](https://www.keepersecurity.com/business.html)
  * [Privileged Access Management](https://www.keepersecurity.com/privileged-access-management/)
  * [Public Sector](https://www.keepersecurity.com/government-cloud/)

#### Pricing

  * [Business and Enterprise](https://www.keepersecurity.com/pricing/business-and-enterprise.html)
  * [Personal and Family](https://www.keepersecurity.com/pricing/personal-and-family.html)
  * [Student](https://www.keepersecurity.com/student-discount-50off.html)
  * [Military and Medical](https://www.keepersecurity.com/id-me-verification.html)

© 2025 Keeper Security, Inc.

On this page

  * Features
  * Prerequisites
  * Setup
  * 1\. Install Module
  * 2\. Configure Azure Key Vault Connection
  * 3\. Add Azure Key Vault Storage to Your Code
  * Using Azure Key Vault Integration
  * Additional Options
  * Change Key
  * Decrypt Config

Was this helpful?

[Export as
PDF](/en/keeperpam/~gitbook/pdf?page=5bAWD6RPiYO9UT9mOK6B&only=yes&limit=100)

  1. [Secrets Manager](/en/keeperpam/secrets-manager)
  2. [Integrations](/en/keeperpam/secrets-manager/integrations)

# Azure Key Vault Encryption

Protect Secrets Manager connection details with Azure Key Vault Keys

[PreviousAzure Key Vault Sync](/en/keeperpam/secrets-
manager/integrations/azure-key-vault)[NextBitbucket
Plugin](/en/keeperpam/secrets-manager/integrations/bitbucket-plugin)

Last updated 29 days ago

Was this helpful?

Keeper Secrets Manager integrates with Azure Key Vault in order to provide
encryption for Keeper Secrets Manager configuration files. With this
integration, you can protect connection details on your machine while taking
advantage of Keeper's zero-knowledge encryption of all your secret
credentials.

##

Features

  * Encrypt and Decrypt your Keeper Secrets Manager configuration files with Azure Key Vault.

  * Protect against unauthorized access to your Secrets Manager connections.

  * Requires only minor changes to code for immediate protection. Works with all Keeper Secrets Manager SDK functionality.

  * supports RSA Asymmetric keys from Azure.

##

Prerequisites

Java

JavaScript

Python

.Net

GoLang

  *   *   * Works with just RSA key types with `WrapKey` and `UnWrapKey` permissions.

  *   *   * Works with just RSA key types with `WrapKey` and `UnWrapKey` permissions.

  *   *   * Works with just RSA key types with `WrapKey` and `UnWrapKey` permissions.

  *   * Supports dotnet version `net9.0`

  *   * Works with just RSA key types with `WrapKey` and `UnWrapKey` permissions.

  *   *   * Works with just RSA key types with `WrapKey` and `UnWrapKey` permissions.

##

Setup

###

1\. Install Module

Java

JavaScript

Python

.Net

GoLang

Setting up project using Gradle or Maven

**Gradle**

Copy

    
    
    repositories {
      mavenCentral()
    }
    
    dependencies {
      implementation("com.keepersecurity.secrets-manager:azurekv:1.0.0")
      implementation("com.keepersecurity.secrets-manager:core:17.0.0")
      implementation("com.azure:azure-identity:1.15.0")
      implementation("com.azure:azure-security-keyvault-keys:4.9.2")
      implementation("com.fasterxml.jackson.core:jackson-databind:2.18.2")
      implementation("com.fasterxml.jackson.core:jackson-core:2.18.2")
      implementation("com.google.code.gson:gson:2.12.1")
      implementation("org.slf4j:slf4j-api:1.7.32"){
            exclude("org.slf4j:slf4j-log4j12")
        }
      implementation("ch.qos.logback:logback-classic:1.2.6")
      implementation("ch.qos.logback:logback-core:1.2.6")
      implementation("org.bouncycastle:bc-fips:1.0.2.4")
    }

**Maven**

Copy

    
    
    <!-- KMS-core -->
     <dependency>
         <groupId>com.keepersecurity.secrets-manager</groupId>
         <artifactId>azurekv</artifactId>
         <version>1.0.0</version>
    </dependency>
    <dependency>
         <groupId>com.keepersecurity.secrets-manager</groupId>
         <artifactId>core</artifactId>
         <version>17.0.0</version>
     </dependency>
    
     <!-- Azure-identity -->
       <dependency>
           <groupId>com.azure</groupId>
           <artifactId>azure-identity</artifactId>
           <version>1.15.0</version>
            <scope>compile</scope>
       </dependency>
      <!-- Azure-keyvault -->
       <dependency>
           <groupId>com.azure</groupId>
           <artifactId>azure-security-keyvault-keys</artifactId>
           <version>4.9.2</version>
       </dependency>
          	
       <!--gson -->
       <dependency>
       	<groupId>com.google.code.gson</groupId>
       	<artifactId>gson</artifactId>
       	<version>2.12.1</version>
       </dependency>
    
       <!--jackson-core -->
       <dependency>
       	<groupId>com.fasterxml.jackson.core</groupId>
       	<artifactId>jackson-core</artifactId>
       	<version>2.18.2</version>
       </dependency>
       	
       <!--jackson-databind -->
       <dependency>
       	<groupId>com.fasterxml.jackson.core</groupId>
       	<artifactId>jackson-core</artifactId>
       	<version>2.18.2</version>
       </dependency>
       <!-- slf4j-api -->
    	<dependency>
    	   <groupId>org.slf4j</groupId>
    	   <artifactId>slf4j-api</artifactId>
    	   <version>1.7.32</version>
    	   <scope>runtime</scope>
    	</dependency>	
      <!-- logback-classic -->
       <dependency>
    	<groupId>ch.qos.logback</groupId>
    	<artifactId>logback-classic</artifactId>
    	<version>1.2.6</version>
    	<scope>compile</scope>
      </dependency>
    <!-- logback-core -->
       <dependency>
          <groupId>ch.qos.logback</groupId>
          <artifactId>logback-core</artifactId>
          <version>1.2.6</version>
          <scope>compile</scope>
       </dependency>  	
       <!-- bc-fips -->
       <dependency>
       	<groupId>org.bouncycastle</groupId>
       	<artifactId>bc-fips</artifactId>
       	<version>1.0.2.4</version>
       </dependency>
       	

The Secrets Manager Azure Key Vault module can be installed using npm

Copy

    
    
    npm install @keeper-security/secrets-manager-azure

The Secrets Manager Storage Azure module can be installed using pip

Copy

    
    
    pip3 install keeper-secrets-manager-storage

The Secrets Manager KSM modules are located in the Keeper Secrets Manager
storage module which can be installed using `dotnet`

Copy

    
    
    dotnet add package Keeper.SecretsManager.AzureKeyVault

The Secrets Manager azure KSM module Integration can be installed using

Copy

    
    
    go get github.com/keeper-security/secrets-manager-go/integrations/azure

###

2\. Configure **Azure Key Vault** Connection

Ensure that you have an Azure Key Vault instance available, The following
param needed to connect azure key vault `AZURE_TENANT_ID: The Microsoft Entra
tenant (directory) ID.`

`AZURE_CLIENT_ID: The client (application) ID of an App Registration in the
tenant.`

`AZURE_CLIENT_SECRET: A client secret that was generated for the App
Registration.`

You will need an Azure App directory App to use the Azure Key Vault
integration.

For more information on Azure App Directory App registration and Permissions
see the Azure documentation:

###

3\. Add Azure Key Vault Storage to Your Code

Once azure connection has been configured, You can fetch the Key to encrypt /
decrypt KSM configurations using azure key and you need to tell the Secrets
Manager SDK to utilize the key vault as storage.

###

Using **Azure Key Vault Integration**

Once setup, the Secrets Manager Azure Key Vault integration supports all
Secrets Manager SDK functionality. Your code will need to be able to access
the Azure Keys in order to manage the encryption and decryption of the KSM
configuration file. **Using Specified Connection credentials**

Java

JavaScript

Python

.Net

Go

To do this, create `AzureKeyValueStorage` instance and use this in
`SecretManagerOptions` constructor.

The `AzureKeyValueStorage` will require the name of the Secrets Manager
configuration file with `azure_key_id` , `azure_keyvault_URL` and
configuration.

Copy

    
    
    import java.security.Security;
    import org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider;
    import static com.keepersecurity.secretsManager.core.SecretsManager.initializeStorage;
    import com.keepersecurity.secretmanager.azurekv.AzureKeyValueStorage;
    import com.keepersecurity.secretmanager.azurekv.AzureSessionConfig;
    import com.keepersecurity.secretsManager.core.SecretsManagerOptions;
    
    
    class Test {
    	public static void main(String args[]){
    		String oneTimeToken = "[One_Time_Token]";
    		String keyId = "https://<vault-name>.vault.azure.net/keys/<keyname>/<keyversion>";
    		String configFileLocation="<KSM-client-config.json>";
    		String azTenantId = "<azure-tenant-id>";
    		String azClientId = "<azure-client-id>";
    		String azClientSecret = "<azure-client-secret>";
    		String keyVaultUrl = "https://<vault-name>.vault.azure.net/";
    		Security.addProvider(new BouncyCastleFipsProvider());
    		try{
    			//set azure KV configuration, 
    			AzureSessionConfig azConfig= new AzureSessionConfig(azTenantId, azClientId, azClientSecret, keyVaultUrl);
    			//Get Storage 
    			AzureKeyValueStorage azkvstorage =  AzureKeyValueStorage.getInternalStorage(keyId, configFileLocation, azConfig);
    			initializeStorage(azkvstorage, oneTimeToken);
    			SecretsManagerOptions options = new SecretsManagerOptions(azkvstorage);
    			//getSecrets(options)
    		}catch (Exception e) {
    			System.out.println(e.getMessage());
    		}
    	}
    }
    

To do this, use `AzureKeyValueStorage` as your Secrets Manager storage in the
`SecretsManager` constructor.

The storage will require an `Azure Key ID`, as well as the name of the Secrets
Manager configuration file which will be encrypted by Azure Key Vault.

Copy

    
    
     import { getSecrets, initializeStorage, localConfigStorage } from '@keeper-security/secrets-manager-core';
     import {AzureKeyValueStorage, AzureSessionConfig} from "@keeper/secrets-manager-azure";
     
         const getKeeperRecords = async () => {
            const tenant_id="<tenant_id>" 
            const client_id="<client_id>"
            const client_secret="<client-secret>"
            const azureSessionConfig = new AzureSessionConfig(tenant_id, client_id, client_secret)
            
            let config_path = "<path to ksm-client-config.json>"
            const logLevel = LoggerLogLevelOptions.info;
            // oneTimeToken is used only once to initialize the storage
            // after the first run, subsequent calls will use ksm-config.txt
            const oneTimeToken = "[One Time Token]";
            
            const keyId = 'https://<vault_name>.vault.azure.net/keys/<key_name>/<version>'
            const storage = await new AzureKeyValueStorage(keyId,config_path,azureSessionConfig,logLevel).init();
            await initializeStorage(storage, oneTimeToken);
            
            const {records} = await getSecrets({storage: storage});
            console.log(records)
        }
        getKeeperRecords()
    

To do this, use `AzureKeyValueStorage` as your Secrets Manager storage in the
`SecretsManager` constructor as config along with a token.

The storage will require a Azure Key ID, as well as the location of the
Secrets Manager configuration file which will be encrypted by Azure-KSM
Integration and Azure session configuration as shown below.

Copy

    
    
    from keeper_secrets_manager_storage.storage_azure_keyvault import AzureSessionConfig,AzureKeyValueStorage
    from keeper_secrets_manager_core import SecretsManager
    
    tenant_id = "<Tenant_ID>"
    client_id = "<CLIENT_ID>"
    client_secret = "<CLIENT_SECRET>"
    
    azure_session_config = AzureSessionConfig(tenant_id, client_id, client_secret)
    config_path = "<path_to_client_config_python.json>"
    
    token="<One Time Token>"
    
    key_id = "<key_id>"
    
    azure_key_value_storage = AzureKeyValueStorage(key_id=keyId,config_file_location=config_path ,az_session_config=azure_session_config)
        
    secrets_manager = SecretsManager(token = token,config=azure_key_value_storage)
        
    records  = secrets_manager.get_secrets()
        
    for record in records:
        print(record)
    

To do this, use `AzureKeyValueStorage` as your Secrets Manager storage in the
`SecretsManager` constructor.

The storage will require an `Azure Key ID`, as well as the name of the Secrets
Manager configuration file which will be encrypted by Azure Key Vault.
Optionally `AzureSessionConfig` can be provided. If credentials are not
provided the default credentials are used.

Copy

    
    
    using System;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.Extensions.Logging;
    using OracleKeyManagement;
    using SecretsManager;
    
    public class Program
    {
       private static async Task getOneIndividualSecret()
        {
            var tenant_id = "<TENANT_ID>";
            var client_secret = "<CLIENT_SECRET>";
            var client_id = "<CLIENT_ID>";
            var keyId = "<KEY_ID>";
            var path = "ksmConfigDotnet.json";
            var dotnet_access_token = "<ACCESS_TOKEN>";
            var loggerFactory = LoggerFactory.Create(builder =>
            {
                builder.SetMinimumLevel(LogLevel.Debug);
                builder.AddConsole();
            });
            var logger = loggerFactory.CreateLogger<AzureKeyValueStorage>();
            var azure_session_config = new AzureSessionConfig(tenant_id, client_id, client_secret);
            AzureKeyValueStorage azure_storage = new AzureKeyValueStorage(keyId, path, azure_session_config, logger);
            SecretsManagerClient.InitializeStorage(azure_storage, dotnet_access_token);
            
            var options = new SecretsManagerOptions(azure_storage);
                        var records_list = await SecretsManagerClient.GetSecrets(options);
            records_list.Records.ToList().ForEach(record => Console.WriteLine(record.RecordUid + " - " + record.Data.title));
        }
    	static async Task Main()
    	{
    		await getOneIndividualSecret();
    	}
    }

To do this, use `NewAzureKeyValueStorage` as your Secrets Manager storage in
the `SecretsManager` constructor.

The `NewAzureKeyVaultStorage` requires the following parameters to encrypt the
KSM configuration using Azure Key Vault:

`ksmConfigFileName` : The file name of KSM configuration.

`keyURL`: Azure Key URL

Copy

    
    
    package main
    
    import (
    	"encoding/json"
    	"fmt"
    
    	"github.com/keeper-security/secrets-manager-go/core"
    	azurekv "github.com/keeper-security/secrets-manager-go/integrations/azure"
    )
    
    func main() {
    	
    	ksmConfigFile := ""
    	oneTimeToken := "oneTimeToken"
    	keyURL := "<Key URL>"   	}
    	
    	//Initialize the Azure Key Vault Storage
    	cfg := azurekv.NewAzureKeyValueStorage(ksmConfigFileName, keyURL, &azurekv.AzureConfig{
    		TenantID:     "<Azure Tenant ID>",
    		ClientID:     "<Azure Client ID>",
    		ClientSecret: "<Azure Client Secret>",
    	})
    	// create a new secrets manager client
    	secrets_manager := core.NewSecretsManager(
    		&core.ClientOptions{
    			Config: cfg,
    			Token:  oneTimeToken,
    		},
    	)
    	// Fetch all the secrets from the vault
    	secrets, err := secrets_manager.GetSecrets([]string{})
    	if err != nil {
    		// do something
    		fmt.Printf("Error: %s\n", err)
    	} else {
    		for _, secret := range secrets {
    			fmt.Printf("Recieved secret: %s\n", secret.Title())
    		}
    	}
    
    }

##

Additional Options

###

Change Key

We can change key that is used for encrypting the KSM configuration, examples
below show the code needed to use it

Java

JavaScript

Python

.Net

GoLang

Copy

    
    
    //The method changeKey(newKeyID) will be used to encrypt the KSM config file with new azure key. 
    ....
     String newKeyID = "https://<vault-name>.vault.azure.net/keys/<keyname>/<keyversion>";
     AzureKeyValueStorage azkvstorage =  AzureKeyValueStorage.getInternalStorage(keyId, configFileLocation, azConfig);
     boolean isChanged = azkvstorage.changeKey(newKeyID);	 // Change the key for encryption/decryption
    ....

Copy

    
    
    // To change the Azure Key Vault key used for encryption, you can call the `changeKey` method on the `OciKeyValueStorage` instance.
    .....
     const keyId = 'https://<vault_name>.vault.azure.net/keys/<key_name>/<version>'
     const keyId2 = "https://<vault_name>.vault.azure.net/keys/<key_name>/<version>"
     const storage = await new AzureKeyValueStorage(keyId,config_path,azureSessionConfig).init();
     await storage.changeKey(keyId2);
    
    .....

Copy

    
    
    azure_key_value_storage = AzureKeyValueStorage(key_id=keyId,config_file_location=config_path ,az_session_config=azure_session_config)
    new_key_id = "<new key id>"
    isChanged = azure_key_value_storage.change_key(new_key_id = new_key_id)
    print("Key is changed " + isChanged)

Copy

    
    
    // To change the Azure key used for encryption, you can call the `ChangeKeyAsync` method on the `AzureKeyValueStorage` instance.
     using Microsoft.Extensions.Logging;
     ....
         var keyId2 = "<KEY_ID_2>";
         var loggerFactory = LoggerFactory.Create(builder =>
                {
                    builder.SetMinimumLevel(LogLevel.Debug);
                    builder.AddConsole();
                });
        var logger = loggerFactory.CreateLogger<AzureKeyValueStorage>();
        AzureKeyValueStorage azure_storage = new AzureKeyValueStorage(keyId, path, azure_session_config, logger);
        azure_storage.ChangeKeyAsync(keyId2).Wait();
     ....

Copy

    
    
    	....	
    		updatedConfig := &azurekv.AzureConfig{
    			TenantID:     "<Updated Tenant ID>",
    			ClientID:     "<Updated Client ID>",
    			ClientSecret: "<Updated Client Secret>",
    		}
    		updatedKeyURL := "<Updated Key URL>"		
    		// Changes the key
    		// If you don't want to change Config, pass nil as a paramter
    		isChanged, err := cfg.ChangeKey(updatedKeyURL, updatedConfig)
    		if err != nil {
    			fmt.Printf("Error while changing key: %v", err)
    		} else {
    			fmt.Printf("Key changed: %v\n", isChanged)
    		}
    		.....

###

Decrypt Config

We can decrypt the config if current implementation is to be migrated onto a
different cloud or if you want your raw credentials back. The function accepts
a boolean which when set to true will save the decrypted configuration to file
and if it is false, will just return decrypted configuration. This function
accepts a boolean, when set to true will save the decrypted configuration to
file and when set to false will return decrypted configuration.

Java

JavaScript

Python

.Net

GoLang

Copy

    
    
    ....
     AzureKeyValueStorage azkvstorage =  AzureKeyValueStorage.getInternalStorage(keyId, configFileLocation, azConfig);
     azkvstorage.decryptConfig(false); // Set false as a parameter to extract only plaintext.
     //OR 
     azkvstorage.decryptConfig(true); // Set true as a parameter to extract plaintext and save config as a plaintext.
    ....

Copy

    
    
     //To decrypt the config file and save it again in plaintext, you can call the `DecryptConfigAsync` method on the `AzureKeyValueStorage` instance.
    .... 
     const storage = await new AzureKeyValueStorage(keyId,config_path,azureSessionConfig).init();
     const decryptedConfig = storage.DecryptConfigAsync(true).wait(); // return decrypted and Saves to file
      //OR
     const decryptedConfig = await storage.decryptConfig(false); // returns the decrypted config 
    .... 

Copy

    
    
    storage = AzureKeyValueStorage(key_id=keyId,config_file_location=config_path ,az_session_config=azure_session_config)
    storage.decrypt_config() #saved plain config to file
     # or
    storage.decrypt_config(False)# returns config as return value, file will stay encrypted

Copy

    
    
    //To decrypt the config file and save it again in plaintext, you can call the `DecryptConfigAsync` method on the `AzureKeyValueStorage` instance.
    .... 
    var keyId2 = "<KEY_ID_2>";
     AzureKeyValueStorage azure_storage = new AzureKeyValueStorage(keyId, path, azure_session_config, logger);
    await azure_storage.DecryptConfigAsync(true); // return decrypted and Saves to file
    //OR
    await azure_storage.DecryptConfigAsync(false); // returns the decrypted config 
    .... 

Copy

    
    
    		.....
    		configs := make(map[core.ConfigKey]interface{})
    		plainText, err := cfg.DecryptConfig(true)
    		if err != nil {
    			// do something
    			fmt.Printf("Error while decrypting config: %v", err)
    		} else {
    			if err := json.Unmarshal([]byte(plainText), &configs); err != nil {
    				fmt.Printf("Error while unmarshalling: %v", err)
    			}
    			fmt.Printf("Decrypted data: %v\n", configs["clientId"])
    		}
    		.....

Support the Java/Kotlin

Requires Azure packages:  and .

Supports the

Requires Azure packages  ,

Supports the

Requires package

Supports the

Requires Azure packages:  and

Supports the

Requires Azure packages:  ,  and .

You're ready to use the KSM integration

Check out the  for more examples and functionality

👍

[Secrets Manager SDK.](https://docs.keeper.io/en/keeperpam/secrets-
manager/developer-sdk-library/java-sdk)

[`azure-identity`](https://mvnrepository.com/artifact/com.azure/azure-
identity/1.15.0)

[`azure-keyvault-keys`](https://mvnrepository.com/artifact/com.azure/azure-
security-keyvault-keys/4.9.2)

[JavaScript Secrets Manager SDK](/en/keeperpam/secrets-manager/developer-sdk-
library/javascript-sdk)

[`@azure/identity`](https://www.npmjs.com/package/@azure/identity)

[`@azure/keyvault-keys`](https://www.npmjs.com/package/@azure/keyvault-keys)

[Python Secrets Manager SDK](/en/keeperpam/secrets-manager/developer-sdk-
library/python-sdk)

[azure-identity](https://pypi.org/project/azure-identity/)

[azure-keyvault-keys](https://pypi.org/project/azure-keyvault-keys/)

[.Net Secrets Manager SDK](/en/keeperpam/secrets-manager/developer-sdk-
library/.net-sdk)

[`Azure.Identity`](https://www.nuget.org/packages/Azure.Identity/1.14.0-beta.3)

[`Azure.Security.KeyVault.Keys`](https://www.nuget.org/packages/Azure.Security.KeyVault.Keys/4.8.0-beta.1)

[GoLang Secrets Manager SDK](/en/keeperpam/secrets-manager/developer-sdk-
library/golang-sdk)

[`azcore`](https://pkg.go.dev/github.com/Azure/azure-sdk-for-go/sdk/azcore)

[`azidentity`](https://pkg.go.dev/github.com/Azure/azure-sdk-for-
go/sdk/azidentity)

[`azkeys`](https://pkg.go.dev/github.com/Azure/azure-sdk-for-
go/sdk/security/keyvault/azkeys)

<https://learn.microsoft.com/en-us/azure/key-
vault/general/authentication>[](https://learn.microsoft.com/en-us/azure/key-
vault/general/authentication)

[KSM SDKs documentation](/en/keeperpam/secrets-manager/developer-sdk-library)

![](https://docs.keeper.io/~gitbook/image?url=https%3A%2F%2F762006384-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-
x-
prod.appspot.com%2Fo%2Fspaces%252F-MJXOXEifAmpyvNVL1to%252Fuploads%252FtZIEOPkkqOXRYguSANka%252Fksm-
azure.jpg%3Falt%3Dmedia%26token%3Dce2d93d5-12bf-405f-9a53-9c348ad52bcf&width=768&dpr=4&quality=100&sign=dbec56d2&sv=2)

